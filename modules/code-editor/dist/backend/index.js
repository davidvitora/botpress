"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _api = _interopRequireDefault(require("./api"));

var _editor = _interopRequireDefault(require("./editor"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const editorByBot = {};

const onServerStarted = async bp => {};

const onServerReady = async bp => {
  await (0, _api.default)(bp, editorByBot);
};

const onBotMount = async (bp, botId) => {
  const config = await bp.config.getModuleConfig('code-editor');
  editorByBot[botId] = new _editor.default(bp, botId, config);
};

const onBotUnmount = async (bp, botId) => {
  delete editorByBot[botId];
};

const entryPoint = {
  onServerStarted,
  onServerReady,
  onBotMount,
  onBotUnmount,
  definition: {
    name: 'code-editor',
    menuIcon: 'code',
    menuText: 'Code Editor',
    noInterface: false,
    fullName: 'Code Editor',
    homepage: 'https://botpress.io',
    experimental: true
  }
};
var _default = entryPoint;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbImVkaXRvckJ5Qm90Iiwib25TZXJ2ZXJTdGFydGVkIiwiYnAiLCJvblNlcnZlclJlYWR5Iiwib25Cb3RNb3VudCIsImJvdElkIiwiY29uZmlnIiwiZ2V0TW9kdWxlQ29uZmlnIiwiRWRpdG9yIiwib25Cb3RVbm1vdW50IiwiZW50cnlQb2ludCIsImRlZmluaXRpb24iLCJuYW1lIiwibWVudUljb24iLCJtZW51VGV4dCIsIm5vSW50ZXJmYWNlIiwiZnVsbE5hbWUiLCJob21lcGFnZSIsImV4cGVyaW1lbnRhbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUlBOztBQUNBOzs7O0FBR0EsTUFBTUEsV0FBd0IsR0FBRyxFQUFqQzs7QUFFQSxNQUFNQyxlQUFlLEdBQUcsTUFBT0MsRUFBUCxJQUEwQixDQUFFLENBQXBEOztBQUNBLE1BQU1DLGFBQWEsR0FBRyxNQUFPRCxFQUFQLElBQTBCO0FBQzlDLFFBQU0sa0JBQUlBLEVBQUosRUFBUUYsV0FBUixDQUFOO0FBQ0QsQ0FGRDs7QUFJQSxNQUFNSSxVQUFVLEdBQUcsT0FBT0YsRUFBUCxFQUF1QkcsS0FBdkIsS0FBeUM7QUFDMUQsUUFBTUMsTUFBTSxHQUFJLE1BQU1KLEVBQUUsQ0FBQ0ksTUFBSCxDQUFVQyxlQUFWLENBQTBCLGFBQTFCLENBQXRCO0FBQ0FQLEVBQUFBLFdBQVcsQ0FBQ0ssS0FBRCxDQUFYLEdBQXFCLElBQUlHLGVBQUosQ0FBV04sRUFBWCxFQUFlRyxLQUFmLEVBQXNCQyxNQUF0QixDQUFyQjtBQUNELENBSEQ7O0FBS0EsTUFBTUcsWUFBWSxHQUFHLE9BQU9QLEVBQVAsRUFBdUJHLEtBQXZCLEtBQXlDO0FBQzVELFNBQU9MLFdBQVcsQ0FBQ0ssS0FBRCxDQUFsQjtBQUNELENBRkQ7O0FBSUEsTUFBTUssVUFBZ0MsR0FBRztBQUN2Q1QsRUFBQUEsZUFEdUM7QUFFdkNFLEVBQUFBLGFBRnVDO0FBR3ZDQyxFQUFBQSxVQUh1QztBQUl2Q0ssRUFBQUEsWUFKdUM7QUFLdkNFLEVBQUFBLFVBQVUsRUFBRTtBQUNWQyxJQUFBQSxJQUFJLEVBQUUsYUFESTtBQUVWQyxJQUFBQSxRQUFRLEVBQUUsTUFGQTtBQUdWQyxJQUFBQSxRQUFRLEVBQUUsYUFIQTtBQUlWQyxJQUFBQSxXQUFXLEVBQUUsS0FKSDtBQUtWQyxJQUFBQSxRQUFRLEVBQUUsYUFMQTtBQU1WQyxJQUFBQSxRQUFRLEVBQUUscUJBTkE7QUFPVkMsSUFBQUEsWUFBWSxFQUFFO0FBUEo7QUFMMkIsQ0FBekM7ZUFnQmVSLFUiLCJzb3VyY2VSb290IjoiRDpcXENvZGlnbyBCb3RwcmVzc1xcYm90cHJlc3NcXG1vZHVsZXNcXGNvZGUtZWRpdG9yXFxzcmNcXGJhY2tlbmQiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBzZGsgZnJvbSAnYm90cHJlc3Mvc2RrJ1xyXG5cclxuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJ1xyXG5cclxuaW1wb3J0IGFwaSBmcm9tICcuL2FwaSdcclxuaW1wb3J0IEVkaXRvciBmcm9tICcuL2VkaXRvcidcclxuaW1wb3J0IHsgRWRpdG9yQnlCb3QgfSBmcm9tICcuL3R5cGluZ3MnXHJcblxyXG5jb25zdCBlZGl0b3JCeUJvdDogRWRpdG9yQnlCb3QgPSB7fVxyXG5cclxuY29uc3Qgb25TZXJ2ZXJTdGFydGVkID0gYXN5bmMgKGJwOiB0eXBlb2Ygc2RrKSA9PiB7fVxyXG5jb25zdCBvblNlcnZlclJlYWR5ID0gYXN5bmMgKGJwOiB0eXBlb2Ygc2RrKSA9PiB7XHJcbiAgYXdhaXQgYXBpKGJwLCBlZGl0b3JCeUJvdClcclxufVxyXG5cclxuY29uc3Qgb25Cb3RNb3VudCA9IGFzeW5jIChicDogdHlwZW9mIHNkaywgYm90SWQ6IHN0cmluZykgPT4ge1xyXG4gIGNvbnN0IGNvbmZpZyA9IChhd2FpdCBicC5jb25maWcuZ2V0TW9kdWxlQ29uZmlnKCdjb2RlLWVkaXRvcicpKSBhcyBDb25maWdcclxuICBlZGl0b3JCeUJvdFtib3RJZF0gPSBuZXcgRWRpdG9yKGJwLCBib3RJZCwgY29uZmlnKVxyXG59XHJcblxyXG5jb25zdCBvbkJvdFVubW91bnQgPSBhc3luYyAoYnA6IHR5cGVvZiBzZGssIGJvdElkOiBzdHJpbmcpID0+IHtcclxuICBkZWxldGUgZWRpdG9yQnlCb3RbYm90SWRdXHJcbn1cclxuXHJcbmNvbnN0IGVudHJ5UG9pbnQ6IHNkay5Nb2R1bGVFbnRyeVBvaW50ID0ge1xyXG4gIG9uU2VydmVyU3RhcnRlZCxcclxuICBvblNlcnZlclJlYWR5LFxyXG4gIG9uQm90TW91bnQsXHJcbiAgb25Cb3RVbm1vdW50LFxyXG4gIGRlZmluaXRpb246IHtcclxuICAgIG5hbWU6ICdjb2RlLWVkaXRvcicsXHJcbiAgICBtZW51SWNvbjogJ2NvZGUnLFxyXG4gICAgbWVudVRleHQ6ICdDb2RlIEVkaXRvcicsXHJcbiAgICBub0ludGVyZmFjZTogZmFsc2UsXHJcbiAgICBmdWxsTmFtZTogJ0NvZGUgRWRpdG9yJyxcclxuICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9ib3RwcmVzcy5pbycsXHJcbiAgICBleHBlcmltZW50YWw6IHRydWVcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGVudHJ5UG9pbnRcclxuIl19